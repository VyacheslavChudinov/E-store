import{c as j,j as n,P as p,f as m,u as y,B as v,G as b,aw as B}from"./index-52948472.js";import{f as c,T as I}from"./format-44d5df09.js";import{T as g,a as u,d as f,b as i,c as s}from"./TableRow-964b114e.js";import{L as x}from"./LoadingButton-8dde6608.js";import{D as T}from"./Delete-3b22fcbd.js";const k=j(n.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),S=j(n.jsx("path",{d:"M19 13H5v-2h14v2z"}),"Remove");function R(h){const{items:t}=h,r=t.reduce((o,e)=>o+e.price*e.quantity,0)??0,d=r>1e4?0:500,l=r+d;return n.jsx(n.Fragment,{children:n.jsx(g,{component:p,variant:"outlined",children:n.jsx(u,{children:n.jsxs(f,{children:[n.jsxs(i,{children:[n.jsx(s,{colSpan:2,children:"Subtotal"}),n.jsx(s,{align:"right",children:c(r)})]}),n.jsxs(i,{children:[n.jsx(s,{colSpan:2,children:"Delivery fee*"}),n.jsx(s,{align:"right",children:c(d)})]}),n.jsxs(i,{children:[n.jsx(s,{colSpan:2,children:"Total"}),n.jsx(s,{align:"right",children:c(l)})]}),n.jsx(i,{children:n.jsx(s,{children:n.jsx("span",{style:{fontStyle:"italic"},children:"*Orders over $100 qualify for free delivery"})})})]})})})})}function D(h){const t=m(),{updatingProducts:r}=y(e=>e.basket),{items:d,isBasket:l}=h;async function o(e,a=1){await t(B({productId:e,quantity:a}))}return n.jsx(g,{component:p,children:n.jsxs(u,{sx:{minWidth:650},"aria-label":"Basket",children:[n.jsx(I,{children:n.jsxs(i,{children:[n.jsx(s,{}),n.jsx(s,{align:"left",children:"Name"}),n.jsx(s,{align:"left",children:"Brand"}),n.jsx(s,{align:"left",children:"Type"}),n.jsx(s,{align:"center",children:"Quantity"}),n.jsx(s,{align:"right",children:"Price"}),n.jsx(s,{align:"right",children:"Subtotal"}),l&&n.jsx(s,{align:"center"})]})}),n.jsx(f,{children:d.map(e=>n.jsxs(i,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[n.jsx(s,{component:"th",scope:"row",children:n.jsx(v,{component:"img",sx:{maxHeight:{xs:70,md:100}},alt:"Product image",src:e.pictureUrl})}),n.jsx(s,{align:"left",component:"th",scope:"row",children:e.name}),n.jsx(s,{align:"left",children:e.brand}),n.jsx(s,{align:"left",children:e.type}),n.jsxs(s,{align:"center",children:[l&&n.jsx(x,{loading:!!r.find(a=>a===e.productId),onClick:()=>o(e.productId),children:n.jsx(S,{})}),e.quantity,l&&n.jsx(x,{loading:!!r.find(a=>a===e.productId),onClick:()=>t(b({productId:e.productId})),children:n.jsx(k,{})})]}),n.jsx(s,{align:"right",children:c(e.price)}),n.jsx(s,{align:"right",children:c(e.price*e.quantity)}),l&&n.jsx(s,{align:"center",children:n.jsx(x,{loading:!!r.find(a=>a===e.productId),onClick:()=>o(e.productId,e.quantity),sx:{color:"red"},children:n.jsx(T,{})})})]},e.productId))})]})})}export{D as B,R as a};
